<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Basemap Test</title>
  <link rel="stylesheet" href="https://unpkg.com/maplibre-gl/dist/maplibre-gl.css">
  <style>
    html,body,#map {height:100%;margin:0}
    .badge{position:absolute;top:10px;left:10px;background:#000a;color:#fff;padding:6px 8px;border-radius:8px;font:14px/1.2 system-ui}
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="badge" id="status">loading…</div>
  <script src="https://unpkg.com/maplibre-gl/dist/maplibre-gl.js"></script>
  <script>
    try {
      const map = new maplibregl.Map({
        container: 'map',
        style: {
          version: 8,
          sources: {
            osm: { type: 'raster', tiles: ['https://tile.openstreetmap.org/{z}/{x}/{y}.png'], tileSize: 256,
              attribution: '© OpenStreetMap contributors' }
          },
          layers: [{ id: 'osm', type: 'raster', source: 'osm' }]
        },
        center: [54, 32],
        zoom: 4.5
      });
      map.addControl(new maplibregl.NavigationControl(), 'top-right');
      map.on('load', () => document.getElementById('status').textContent = 'basemap loaded');
      map.on('error', e => { console.error(e); document.getElementById('status').textContent='map error (see console)'; });
    } catch (e) {
      console.error(e);
      document.getElementById('status').textContent = 'script error (see console)';
    }
  </script>
</body>
</html>
